{% extends 'patient/patientdash_base.html' %}
{% load static %}
{% block css %}
<link href="{% static 'css/style.css' %}" type="text/css" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css">
  <!-- //Latest compiled and minified CSS    //Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
{% endblock css %}
{% block content %}

<div class="center-all">
  <p>PATIENT | Dashboard</p>
  
  
  <div style="display: flex; flex-direction:row-reverse; padding-right: 10px;" class="logoutsection">
    <a style="width: auto; top=-1000px;" class="btn btn-danger" href="{% url 'logout' %} ">Log Out</a></li>
  </div> 
</div>
  
  <div class="center">
  <div class="card" style="border-radius: 15px; width: 150%;">
    <div class="card-body text-center">
      <div class="mt-3 mb-4">
        <img src="{{profile.image.url}}"
          class="rounded-circle img-fluid" style="width: 200px; height:200px;" />
      </div>
      <h4 class="mb-2">{{patient.first_name|add:' '|add:patient.last_name}}</h4>
      <p class="text-muted mb-4">Patient<span class="mx-2">|</span> <a
          href="#">{{ patient.email}}</a></p>
     <div class="d-fgrid gap-2 mt-5 mb-2">
      <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#exampleModal">
        Update
      </button>
    </span>

    <!-- Button trigger modal -->


    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Update Profile</h5>

          </div>
          <div class="modal-body">
            <form action="{% url 'update_patient' %}" method="POST" enctype="multipart/form-data">
              {% csrf_token %}
              <label for="formFileSm" class="form-label">Change profile picture</label>
              <input class="form-control form-control-sm" id="formFileSm" name="image" type="file" />
              <input type="hidden" name="patient_id" value="{{ patient.id }}">
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal"
                  style="width: auto;">Close</button>
                <button type="submit" class="btn btn-primary" style="width: auto;">Save changes</button>
              </div>
            </form>
          </div>

        </div>
      </div>
    </div>

        <div>
          <p class="mb-2 h5">{{appointments}}</p>
          <p class="text-muted mb-0">Booked Appointments</p>
        </div>
      </div> 
    </div>
  </div>
</div>
{% endblock content %}

